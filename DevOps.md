给工程师提供学习必要技能的机会，让他们有能力构建和运行所负责的系统，并定期让他们在不同的职位间轮岗。全栈工程师这个术语现在通常是指那些熟悉或至少大致理解整个应用栈（例如代码、数据库、操作系统、网络和云）的通才。



#### 两个披萨原则

2002年，亚马逊在试图脱离单一代码库的转型过程中利用“两个比萨原则”保持团队规模小型化——两个比萨够团队的所有成员吃，这样的团队通常有5～10人。这种规模限制有以下4个重要作用。

（1）它确保团队成员对系统有清晰、相同的理解。当团队规模变大时，如果要让所有人都了解系统状况，需要沟通的信息量就会成倍增加。

（2）它限制正在开发的产品或服务的增长率。通过限制团队的规模，系统的发展速度也受到限制，这也有助于保证团队成员对系统有相同的理解。

（3）它分散权力并实现自主。每个“双比萨”团队都尽可能地自主工作。团队负责人直接向管理层汇报，由他决定团队负责的关键业务指标（又称适应度函数），并将其作为团队实践的总体评估标准。然后，团队能够自主采取行动来最大限度地提升该指标。

（4）领导“双比萨”团队是让员工获得领导经验的一种方式。在这样的环境中，即使失败了也不会有灾难性后果。亚马逊的策略有一个关键要素，即“双比萨”团队的组织结构与面向服务架构之间的联系。



在很大程度上，服务赖以生存的架构决定了代码的测试和部署方式。这一点已经在Puppet Labs的《2015年DevOps现状报告》中得到了验证。该报告显示，架构是影响工程师生产力的首要因素，它还决定了是否能快速和安全地实施变更。

#### Chaos Monkey

此外，这篇博客文章还解释，除了实施这些架构模式，他们还构建并运行了一个令人吃惊的大胆服务，称为“捣乱猴”（Chaos Monkey）。它会不断地随机删除生产服务器，来模拟AWS环境故障。他们这样做是希望所有的“工程团队习惯于在常规的故障水平上工作”，使得服务能够“在没有任何人工干预的情况下，自动恢复正常”。

https://www.infoq.com/news/2012/07/chaos-monkey/

#### DevOps是为了化解开发人员和运维人员的冲突

若管理不当，开发人员与运维人员之间存在的冲突会日益恶化，导致新产品和功能上线时间长，质量不如人意，损耗增加，技术债越积越多，生产力低下，员工的不满和倦怠情绪也会越来越严重。DevOps的原则和模式能够化解这个核心冲突。



不承担风险，创新是不可能成功的。如果你没有使某些管理层不安，那证明你可能还不够努力。不要让组织的免疫系统阻止或干扰了你的愿景。正如亚马逊的前“灾难大师”Jesse Robbins所说：“做正确的事情，等着被开除。”



#### 精益运动

精益运动始于20世纪80年代，衍生自丰田生产系统（TPS）。TPS包括价值流映射、看板和全面生产维护等。精益的两个主要原则是：（1）坚信前置时间（把原材料转换为成品所需的时间）是提升质量、客户满意度和员工幸福感的最佳预测指标；（2）小批量尺寸是短前置时间的一个最佳预测指标，理论上讲最理想的批量尺寸是“单件流”（即“1×1”的流，库存为1，批量尺寸为1）。精益原则专注于为客户创造价值，要求系统性思考，持之以恒，拥抱科学思维，创建流和拉动（而不是推动）的模式，从源头保证质量，以谦逊为导向，尊重每一个人。

#### 敏捷运动

始于2001年。“敏捷宣言”是由17位软件开发领域的顶尖大师编写的，目的是掀起一场推广轻量级软件开发方法（如DP和DSDM-动态系统开发方法）的运动，用敏捷替代瀑布式等重量级软件开发过程以及替代统一软件开发过程（RUP）这样的方法论。它的一个关键原则是：“频繁地交付可工作的软件，交付周期可以是数星期也可以是数月，推荐更短的周期。”另外还有两个原则，一个是小型的、自我激励的团队应工作在高度信任的模式下，一个强调小批量尺寸。敏捷还和一系列的工具和实践相关，如Scrum、站会等。

#### 持续交付

基于持续构建、测试和集成的开发原则，Jez Humble和David Farley进行了延伸，提出了持续交付，并首次在2006年的敏捷大会上做了分享。在持续交付中，“部署流水线”确保代码和基础设施始终处于可部署状态，所有提交到主干的代码都可以安全地部署到生产环境。2009年，Tim Fitz在博客上发表了一篇题为“持续部署”的文章。



#### 开发人员和测试人员存在固有冲突

开发部门通常负责对市场变化做出响应，以最快的速度将新功能或者变更上线。而IT运维部门则要以为客户提供稳定、可靠和安全的IT服务为已任，让任何人都很难甚至无法引入可能会危害生产环境的变更。这种配置方式让开发部门和IT运维部门的目标和动因之间存在巨大的冲突。

#### 技术债务

“技术债务”这个术语是Ward Cunningham首次提出的。类似于金融债务，技术债务是指我们当前所做出的决定会导致一些问题，而这些问题随着时间的推移会越来越难解决，未来可采取的措施也越来越少。

#### 自动化测试让技术债务不再累计

只要代码变更提交到了版本控制系统，就会在类生产环境中运行快速的自动测试，这持续地保证了代码和环境符合设计预期，并且总是处在安全的可部署状态。自动化测试可以帮助开发人员快速发现错误（通常在几分钟之内），实现更快速的修复以及真正的学习。如果错误是在6个月后的集成测试中发现的，那时相关的记忆和因果关系早已消退，想从中学习是不可能的。自动化测试使技术债务不再积累，问题在发现之后就立即被修复了。

[自动化测试在美团外卖的实践与落地 - 美团技术团队 (meituan.com)](https://tech.meituan.com/2022/09/15/automated-testing-in-meituan.html)

[Airtest Project (netease.com)](https://airtest.netease.com/)

[alipay/SoloPi: SoloPi 自动化测试工具 (github.com)](https://github.com/alipay/SoloPi)

[Appium: Mobile App Automation Made Awesome.](https://appium.io/)



[DevOps实践指南-Gene Kim Jez Humble Patrick Debois John Willis-微信读书 (qq.com)](https://weread.qq.com/web/bookDetail/06a32470717db78906a55d1)

